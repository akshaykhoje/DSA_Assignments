name: C Program Build and Test

on: [push, pull_request]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    
    - name: Install build tools
      run: sudo apt-get install build-essential
    
    - name: Build program
      run: gcc -o avl AVL/avl.c
    
    - name: Run program
      run: ./avl
    
    - name: Check program output
      run: |
        if [ "$(/usr/bin/./myprogram)" = "expected_output" ]; then
          echo "Program output is correct"
        else
          echo "Program output is incorrect"
          exit 1
        fi
